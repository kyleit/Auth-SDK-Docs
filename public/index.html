<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GH Platform SDK Documentation</title>

    <script src="https://cdn.tailwindcss.com"></script>

    <!-- PrismJS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-go.min.js"></script>
</head>

<body class="bg-gray-50 text-gray-800">
    <header class="bg-indigo-600 text-white py-4 shadow-md">
        <div class="max-w-5xl mx-auto px-4 flex justify-between items-center">
            <h1 class="text-2xl font-semibold">GH Platform ‚Äî Authentication SDK</h1>
            <a href="/" class="text-sm hover:underline">Trang ch·ªß</a>
        </div>
    </header>

    <main class="max-w-5xl mx-auto px-4 py-10">
        <h2 class="text-3xl font-bold mb-6 text-indigo-700">T√†i li·ªáu SDK ƒêƒÉng nh·∫≠p & X√°c th·ª±c</h2>
        <p class="mb-8 text-gray-600 leading-relaxed">
            B·ªô SDK h·ªó tr·ª£ ƒëƒÉng nh·∫≠p, refresh token, introspect v√† x√°c th·ª±c request.
            H·ªó tr·ª£ 3 ng√¥n ng·ªØ ph·ªï bi·∫øn: <strong>JavaScript</strong>, <strong>Python</strong>, <strong>Go</strong>.
            C√°c v√≠ d·ª• d∆∞·ªõi ƒë√¢y ƒë√£ ƒë∆∞·ª£c c·∫≠p nh·∫≠t ƒë·ªÉ ph√π h·ª£p v·ªõi ki·∫øn tr√∫c <strong>multi-tenant</strong> c·ªßa GH Platform:
            ƒë∆∞·ªùng d·∫´n API d·∫°ng <code>/api/v1/{tenant}/auth/...</code> v√† payload d√πng <code>identifier</code> +
            <code>client_id</code>.
        </p>

        <!-- Tabs -->
        <div class="flex space-x-2 border-b mb-6">
            <button class="tab-btn active-tab" data-tab="js">JavaScript</button>
            <button class="tab-btn" data-tab="py">Python</button>
            <button class="tab-btn" data-tab="go">Golang</button>
        </div>

        <!-- JS TAB -->
        <div id="tab-js" class="tab-content">
            <h3 class="text-xl font-semibold mb-3">üì¶ SDK JavaScript</h3>
            <p class="text-gray-700">D√πng cho Browser, SPA, Node.js. Demos c√≥ tenant-aware v√† token storage theo tenant.
            </p>

            <div class="bg-gray-100 rounded p-4 mt-4">
                <h4 class="font-semibold mb-2">C√†i ƒë·∫∑t qua NPM</h4>
                <pre><code class="language-bash">npm install @gh-platform/auth-sdk</code></pre>
            </div>

            <!-- Browser CDN -->
            <div class="bg-gray-100 rounded p-4 mt-4">
                <h4 class="font-semibold mb-2">S·ª≠ d·ª•ng nhanh (Browser CDN / local build)</h4>
                <p class="text-sm text-gray-600">V√≠ d·ª• import t·ª´ file build trong <code>sdk/js-authsdk/dist</code>:</p>
                <pre><code class="language-html">&lt;script type="module"&gt;
import { AuthClient, TokenStorage, AuthFetch } from "./js/auth-sdk.es.js";

/* Kh·ªüi t·∫°o tenant-aware client */
const tenant = "demo"; // ho·∫∑c tr√≠ch xu·∫•t t·ª´ email (vd: alice@example.com => tenant = example.com)
const client = new AuthClient({
  baseUrl: "https://auth.example.com",
  tenant
});

/* TokenStorage t·ª± ƒë·ªông d√πng tenant ƒë·ªÉ t√°ch kh√≥a l∆∞u tr·ªØ */
const storage = new TokenStorage("auth", tenant);
const fetcher = new AuthFetch(client, storage);

/* Login */
async function login() {
  const res = await client.login(
    "alice@example.com",     // identifier
    "User@123",              // password
    "gh-platform-admin"      // client_id
  );

  storage.accessToken = res.access_token;
  storage.refreshToken = res.refresh_token;
  console.log("Logged in", res);
}
&lt;/script&gt;
</code></pre>
            </div>

            <!-- Features -->
            <div class="bg-gray-100 rounded p-4 mt-4">
                <h4 class="font-semibold mb-2">C√°c h√†m quan tr·ªçng</h4>

                <pre><code class="language-javascript">
// Login
await client.login(identifier, password, client_id);

// Refresh token
await client.refresh(refresh_token);

// Introspect
await client.introspect(access_token);

// Fetch wrapper (auto refresh & retry)
const resp = await fetcher.fetch(client.baseUrl + "/api/v1/" + tenant + "/auth/me");
</code></pre>
            </div>

            <a href="./downloads/auth-sdk-js.zip" download
                class="inline-block bg-indigo-600 text-white px-6 py-3 mt-6 rounded-lg hover:bg-indigo-700 shadow">
                ‚¨áÔ∏è T·∫£i JavaScript SDK
            </a>
        </div>

        <!-- PYTHON TAB -->
        <div id="tab-py" class="tab-content hidden">
            <h3 class="text-xl font-semibold mb-3">üêç SDK Python</h3>
            <p class="text-gray-700">H·ªó tr·ª£ FastAPI, Flask ‚Äî c√≥ middleware t√≠ch h·ª£p. Kh·ªüi t·∫°o client theo tenant.</p>

            <pre class="bg-gray-100 rounded p-4 mt-4"><code class="language-python">
from authsdk.client import AuthClient

auth = AuthClient(
    tenant="demo",
    base_url="https://auth.example.com",
    jwks_url="https://auth.example.com/.well-known/jwks.json"
)

res = auth.login(
    identifier="alice@example.com",
    password="User@123",
    client_id="gh-platform-admin"
)

print("Access token:", res["access_token"])
</code></pre>

            <h4 class="text-lg font-semibold mt-6 mb-3">Middleware (FastAPI)</h4>

            <pre class="bg-gray-100 rounded p-4"><code class="language-python">
from fastapi import FastAPI, Depends
from authsdk.middleware_fastapi import FastAPIAuth

app = FastAPI()
auth_dep = FastAPIAuth(auth, audience="my-service")

@app.get("/protected")
async def protected(user = Depends(auth_dep)):
    return {"user": user}
</code></pre>

            <a href="./downloads/auth-sdk-py.zip" download
                class="inline-block bg-indigo-600 text-white px-6 py-3 mt-6 rounded-lg hover:bg-indigo-700 shadow">
                ‚¨áÔ∏è T·∫£i Python SDK
            </a>
        </div>

        <!-- GO TAB -->
        <div id="tab-go" class="tab-content hidden">
            <h3 class="text-xl font-semibold mb-3">üêπ SDK Golang</h3>
            <p class="text-gray-700">D√πng t·ªët v·ªõi Gin, Fiber ho·∫∑c gRPC Gateway. Kh·ªüi t·∫°o client theo tenant.</p>

            <pre class="bg-gray-100 rounded p-4 mt-4"><code class="language-go">
import (
    "context"
    "fmt"
    sdk "github.com/gh-platform/core/auth-sdk/client"
)

func main() {
    c := sdk.NewAuthClient("demo", "https://auth.example.com")

    res, _ := c.Login(context.Background(), sdk.LoginRequest{
        Identifier: "alice@example.com",
        Password: "User@123",
        ClientID: "gh-platform-admin",
    })

    fmt.Println(res.AccessToken)
}
</code></pre>

            <h4 class="font-semibold mt-6 mb-2">Mono-repo (go.work) c·∫•u h√¨nh</h4>
            <pre class="bg-gray-100 rounded p-4"><code class="language-go">
go 1.23

use (
    ./backend
    ./auth-sdk
    ./share-library
)

replace github.com/gh-platform/core/auth-sdk => ./auth-sdk
replace github.com/gh-platform/core/share-library => ./share-library
</code></pre>

            <a href="./downloads/auth-sdk-go.zip" download
                class="inline-block bg-indigo-600 text-white px-6 py-3 mt-6 rounded-lg hover:bg-indigo-700 shadow">
                ‚¨áÔ∏è T·∫£i Golang SDK
            </a>
        </div>

        <hr class="my-10 border-gray-300">

        <footer class="text-sm text-gray-500 text-center">
            ¬© 2025 GH Platform ‚Äî Authentication SDK
        </footer>
    </main>

    <style>
        .tab-btn {
            padding: 0.75rem 1rem;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            font-weight: 500;
            color: #555;
            transition: 0.2s;
        }

        .tab-btn:hover {
            color: #111;
        }

        .active-tab {
            border-color: #4f46e5;
            color: #4f46e5;
        }

        .tab-content {
            animation: fadeIn .25s ease-in;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }
    </style>

    <script>
        const buttons = document.querySelectorAll(".tab-btn");
        const tabs = document.querySelectorAll(".tab-content");

        buttons.forEach(btn => {
            btn.addEventListener("click", () => {
                buttons.forEach(b => b.classList.remove("active-tab"));
                btn.classList.add("active-tab");

                tabs.forEach(t => t.classList.add("hidden"));
                document.getElementById(`tab-${btn.dataset.tab}`).classList.remove("hidden");
            });
        });
    </script>
</body>

</html>